"use strict";(self.webpackChunkweaco=self.webpackChunkweaco||[]).push([[527],{2527:function(e,t,a){a.r(t),a.d(t,{default:function(){return v}});var n=a(5861),r=a(9439),s=a(7757),i=a.n(s),c=a(1248),u=a(2791),l=a(6871),o=a(4373),d=(a(111),a(8954),a(1107)),p=a.n(d),h=(a(5910),a(8645),a(184));function m(e){var t=e.editorRef,a=e.onChange,n=e.text;return(0,u.useEffect)((function(){var e;null===(e=t.current)||void 0===e||e.getInstance().setHTML(n)}),[]),(0,h.jsx)("div",{className:"edit_wrap",children:(0,h.jsx)(o.M,{ref:t,placeholder:"\uac04\ub7b5\ud558\uac8c \uc694\uc57d\ud574 \uc8fc\uc138\uc694",previewStyle:"vertical",height:"600px",initialEditType:"wysiwyg",useCommandShortcut:!0,usageStatistics:!1,hideModeSwitch:!0,plugins:[p()],language:"ko-KR",onChange:a,toolbarItems:[["heading","bold","italic"],["hr","quote"],["table","image","link"]],customHTMLRenderer:{htmlBlock:{iframe:function(e){return[{type:"openTag",tagName:"iframe",outerNewLine:!0,attributes:e.attrs},{type:"html",content:e.childrenHTML},{type:"closeTag",tagName:"iframe",outerNewLine:!0}]}}}})})}var f=function(e){var t=e.userObj,a=(0,l.s0)(),s=(0,u.useState)(""),o=(0,r.Z)(s,2),d=o[0],p=o[1],f=(0,u.useState)("News"),x=(0,r.Z)(f,2),v=x[0],w=x[1],y=(0,u.useState)(""),j=(0,r.Z)(y,2),g=j[0],b=j[1],N=(0,u.useState)(""),k=(0,r.Z)(N,2),_=k[0],I=k[1],C=new Date,F=C.getTimezoneOffset();C=new Date(C.getTime()-60*F*1e3);var S=function(e){var t=e.target.value;w(t)},O=(0,u.useRef)(),E=function(){var e=(0,n.Z)(i().mark((function e(n){var r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==v){e.next=2;break}return e.abrupt("return",alert("\uce74\ud14c\uace0\ub9ac\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694"));case 2:if(""!==d){e.next=4;break}return e.abrupt("return",alert("\uc81c\ubaa9\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694"));case 4:if(""!==_){e.next=6;break}return e.abrupt("return",alert("\ud1a0\ud53d \ucd9c\ucc98 URL \uc8fc\uc18c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694"));case 6:if(""!==g){e.next=8;break}return e.abrupt("return",alert("\ud1a0\ud53d\uc744 \uac04\ub2e8\ud558\uac8c \uc694\uc57d\ud574 \uc8fc\uc138\uc694"));case 8:return n.preventDefault(),r={title:d,type:v,url:_,text:g,createdAt:C.toISOString(),updatedAt:C.toISOString(),creatorId:t.uid,creatorEmail:t.email},e.next=12,c.wO.collection("news").add(r);case 12:s=e.sent,alert("\ub4f1\ub85d \uc644\ub8cc!"),a("/news/".concat(s.id));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,h.jsx)("form",{onSubmit:E,className:"factoryForm",children:(0,h.jsxs)("div",{className:"factoryInput__container",children:[(0,h.jsxs)("div",{className:"newsFactoryInput__radio",children:[(0,h.jsxs)("label",{htmlFor:"News",children:[(0,h.jsx)("input",{value:"News",id:"News",name:"type",type:"radio",defaultChecked:!0,onChange:S}),"\ub274\uc2a4"]}),(0,h.jsxs)("label",{htmlFor:"Bookmark",children:[(0,h.jsx)("input",{value:"Bookmark",id:"Bookmark",name:"type",type:"radio",onChange:S}),"\ubd81\ub9c8\ud06c"]}),(0,h.jsxs)("label",{htmlFor:"Newsletter",children:[(0,h.jsx)("input",{value:"Newsletter",id:"Newsletter",name:"type",type:"radio",onChange:S}),"\ub274\uc2a4\ub808\ud130"]}),(0,h.jsxs)("label",{htmlFor:"Etc",children:[(0,h.jsx)("input",{value:"Etc",id:"Etc",name:"type",type:"radio",onChange:S}),"\uae30\ud0c0"]})]}),(0,h.jsxs)("div",{className:"newsFactoryInput__title",children:[(0,h.jsx)("span",{children:"\uc81c\ubaa9"}),(0,h.jsx)("input",{className:"factoryInput__Input",value:d,onChange:function(e){var t=e.target.value;p(t)},type:"text"})]}),(0,h.jsxs)("div",{className:"newsFactoryInput__title",children:[(0,h.jsx)("span",{children:"\ucd9c\ucc98"}),(0,h.jsx)("input",{className:"factoryInput__Input",value:_,onChange:function(e){var t=e.target.value;I(t)},placeholder:"\ucd9c\ucc98 \ub9c1\ud06c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694",type:"url"})]}),(0,h.jsx)(m,{editorRef:O,onChange:function(){var e;b(null===(e=O.current)||void 0===e?void 0:e.getInstance().getHTML())}}),(0,h.jsx)("label",{htmlFor:"news-submit",className:"factoryInput__arrow",children:"\ub4f1\ub85d"}),(0,h.jsx)("input",{id:"news-submit",type:"submit",value:"\u2192",className:"factoryInput__arrow",style:{opacity:0}})]})})},x=function(e){var t=e.userObj,a=e.itemId,s=(0,l.s0)(),o=(0,u.useState)(""),d=(0,r.Z)(o,2),p=d[0],f=d[1],x=(0,u.useState)(""),v=(0,r.Z)(x,2),w=v[0],y=v[1],j=(0,u.useState)(""),g=(0,r.Z)(j,2),b=g[0],N=g[1],k=(0,u.useState)(""),_=(0,r.Z)(k,2),I=_[0],C=_[1];(0,u.useEffect)((function(){c.wO.doc("news/".concat(a)).get().then((function(e){var t=e.data();f(t.title),y(t.type),N(t.text),C(t.url)}))}),[]);var F=function(e){var t=e.target.value;y(t)},S=(0,u.useRef)(),O=function(){var e=(0,n.Z)(i().mark((function e(n){var r,u,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=new Date,u=r.getTimezoneOffset(),r=new Date(r.getTime()-60*u*1e3),""!==p){e.next=5;break}return e.abrupt("return",alert("\uc81c\ubaa9\uc744 \uc785\ub825\ud574 \uc8fc\uc138\uc694"));case 5:if(""!==I){e.next=7;break}return e.abrupt("return",alert("\ud1a0\ud53d \ucd9c\ucc98 URL \uc8fc\uc18c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694"));case 7:if(""!==b){e.next=9;break}return e.abrupt("return",alert("\ud1a0\ud53d\uc744 \uac04\ub2e8\ud558\uac8c \uc694\uc57d\ud574 \uc8fc\uc138\uc694"));case 9:return n.preventDefault(),l={title:p,type:w,url:I,text:b,updatedAt:r.toISOString(),creatorEmail:t.email},e.next=13,c.wO.doc("news/".concat(a)).update(l);case 13:alert("\uc218\uc815 \uc644\ub8cc!"),s("/news/".concat(a));case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,h.jsx)("form",{onSubmit:O,className:"factoryForm",children:(0,h.jsxs)("div",{className:"factoryInput__container",children:[(0,h.jsxs)("div",{className:"newsFactoryInput__radio",children:[(0,h.jsxs)("label",{htmlFor:"News",children:[(0,h.jsx)("input",{value:"News",id:"News",name:"type",type:"radio",onChange:F,checked:"News"===w}),"\ub274\uc2a4"]}),(0,h.jsxs)("label",{htmlFor:"Bookmark",children:[(0,h.jsx)("input",{value:"Bookmark",id:"Bookmark",name:"type",type:"radio",onChange:F,checked:"Bookmark"===w}),"\ubd81\ub9c8\ud06c"]}),(0,h.jsxs)("label",{htmlFor:"Newsletter",children:[(0,h.jsx)("input",{value:"Newsletter",id:"Newsletter",name:"type",type:"radio",onChange:F,checked:"Newsletter"===w}),"\ub274\uc2a4\ub808\ud130"]}),(0,h.jsxs)("label",{htmlFor:"Etc",children:[(0,h.jsx)("input",{value:"Etc",id:"Etc",name:"type",type:"radio",onChange:F,checked:"Etc"===w}),"\uae30\ud0c0"]})]}),(0,h.jsxs)("div",{className:"newsFactoryInput__title",children:[(0,h.jsx)("span",{children:"\uc81c\ubaa9"}),(0,h.jsx)("input",{className:"factoryInput__Input",value:p,onChange:function(e){var t=e.target.value;f(t)},type:"text"})]}),(0,h.jsxs)("div",{className:"newsFactoryInput__title",children:[(0,h.jsx)("span",{children:"\ucd9c\ucc98"}),(0,h.jsx)("input",{className:"factoryInput__Input",value:I,placeholder:"\ucd9c\ucc98 \ub9c1\ud06c\ub97c \uc785\ub825\ud574 \uc8fc\uc138\uc694",onChange:function(e){var t=e.target.value;C(t)},type:"url"})]}),b&&(0,h.jsx)(m,{editorRef:S,onChange:function(){var e;N(null===(e=S.current)||void 0===e?void 0:e.getInstance().getHTML())},text:b}),(0,h.jsx)("label",{htmlFor:"news-submit",className:"factoryInput__arrow",children:"\uc218\uc815"}),(0,h.jsx)("input",{id:"news-submit",type:"submit",value:"\u2192",className:"factoryInput__arrow",style:{opacity:0}})]})})},v=function(e){var t=e.userObj,a=(0,l.UO)().id;return(0,h.jsx)("section",{className:"wrapContainer dark",children:(0,h.jsx)("div",{className:"container",children:a?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:"\ud1a0\ud53d \uc218\uc815\ud558\uae30"}),(0,h.jsx)(x,{userObj:t,itemId:a})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h2",{children:"\ud1a0\ud53d \ub4f1\ub85d\ud558\uae30"}),(0,h.jsx)(f,{userObj:t})]})})})}}}]);
//# sourceMappingURL=527.271a40e4.chunk.js.map